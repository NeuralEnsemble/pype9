<NineML xmlns="http://nineml.org/9ML/1.0">

  <B:Biophysics xmlns:B="http://www.nineml.org/Biophysics" name="hodgkin_huxley">

    <B:AnalogPort mode='receive' name="v"/>
    <B:Component type="defaults">
      <B:Parameter name="Vrest">
        <B:value>-65</B:value>
      </B:Parameter>
      <B:Parameter name="V_t">
        <B:value>-35</B:value>
      </B:Parameter>
      <B:AnalogPort mode='send' name="Vrest"/>
      <B:AnalogPort mode='send' name="V_t"/>
    </B:Component>
    
    <B:Component type="membrane-capacitance">
      <B:Parameter name="C">
        <B:value>1.0</B:value>
      </B:Parameter>
      <B:AnalogPort mode='send' name="C"/>
    </B:Component>

    <B:ComponentClass type="ionic-current" name="Nadef">
      <B:Interface><B:Parameter name="A_alpha_m"/>
      <B:Parameter name="B_alpha_m"/>
      <B:Parameter name="C_alpha_m"/>
      <B:Parameter name="A_beta_m"/>
      <B:Parameter name="B_beta_m"/>
      <B:Parameter name="C_beta_m"/>
      <B:Parameter name="A_alpha_h"/>
      <B:Parameter name="B_alpha_h"/>
      <B:Parameter name="C_alpha_h"/>
      <B:Parameter name="A_beta_h"/>
      <B:Parameter name="B_beta_h"/>
      <B:Parameter name="C_beta_h"/>
      <B:Parameter name="g"/>
      <B:Parameter name="e"/>
      </B:Interface>
      <B:Component type="gate">
        <B:Alias name="amf" arguments="v">
          <B:body>(A_alpha_m * ((v - B_alpha_m) / (1.0 - (exp ((neg (v - B_alpha_m)) / C_alpha_m)))))</B:body>
        </B:Alias>
        <B:Alias name="bmf" arguments="v">
          <B:body>(A_beta_m * (exp ((neg (v - B_beta_m)) / C_beta_m)))</B:body>
        </B:Alias>
        <B:Alias name="ahf" arguments="v">
          <B:body>(A_alpha_h * (exp ((neg (v - B_alpha_h)) / C_alpha_h)))</B:body>
        </B:Alias>
        <B:Alias name="bhf" arguments="v">
          <B:body>(A_beta_h / (1.0 + (exp ((neg (v - B_beta_h)) / C_beta_h))))</B:body>
        </B:Alias>
        <B:hh_ionic_gate name="Na">
          <B:initial_m>(amf (Vrest) / (amf (Vrest) + bmf (Vrest)))</B:initial_m>
          <B:initial_h>(ahf (Vrest) / (ahf (Vrest) + bhf (Vrest)))</B:initial_h>
          <B:m_power>3</B:m_power>
          <B:h_power>1</B:h_power>
          <B:m_alpha>(amf (v))</B:m_alpha>
          <B:m_beta>(bmf (v))</B:m_beta>
          <B:h_alpha>(ahf (v))</B:h_alpha>
          <B:h_beta>(bhf (v))</B:h_beta>
        </B:hh_ionic_gate>
      </B:Component>

      <B:Component type="permeating-ion" name="na">
        <B:Parameter name="erev">
          <B:value>e</B:value>
        </B:Parameter>
        <B:AnalogPort mode='send' name="erev"/>
      </B:Component>

      <B:Component type="pore">
        <B:Parameter name="gbar">
          <B:value>g</B:value>
        </B:Parameter>
        <B:AnalogPort mode='send' name="gbar"/>
      </B:Component>

    </B:ComponentClass>

    <B:ComponentClass type="ionic-current" name="Kdef">
      <B:Interface><B:Parameter name="A_alpha_n"/>
      <B:Parameter name="B_alpha_n"/>
      <B:Parameter name="C_alpha_n"/>
      <B:Parameter name="A_beta_n"/>
      <B:Parameter name="B_beta_n"/>
      <B:Parameter name="C_beta_n"/>
      <B:Parameter name="e"/>
      <B:Parameter name="g"/>
      </B:Interface>
      <B:Component type="gate">
        <B:Alias name="anf" arguments="v">
          <B:body>(A_alpha_n * ((v - B_alpha_n) / (1 - (exp ((neg (v - B_alpha_n)) / C_alpha_n)))))</B:body>
        </B:Alias>
        <B:Alias name="bnf" arguments="v">
          <B:body>(A_beta_n * (exp ((neg (v - B_beta_n)) / C_beta_n)))</B:body>
        </B:Alias>
        <B:hh_ionic_gate name="K">
          <B:initial_m>(anf (Vrest) / (anf (Vrest) + bnf (Vrest)))</B:initial_m>
          <B:m_power>4</B:m_power>
          <B:h_power>0</B:h_power>
          <B:m_alpha>(anf (v))</B:m_alpha>
          <B:m_beta>(bnf (v))</B:m_beta>
        </B:hh_ionic_gate>
      </B:Component>

      <B:Component type="pore">
        <B:Parameter name="gbar">
          <B:value>g</B:value>
        </B:Parameter>
        <B:AnalogPort mode='send' name="gbar"/>
      </B:Component>

      <B:Component type="permeating-ion" name="k">
        <B:Parameter name="erev">
          <B:value>e</B:value>
        </B:Parameter>
        <B:AnalogPort mode='send' name="erev"/>
      </B:Component>

    </B:ComponentClass>

    <B:ComponentClass type="ionic-current" name="Leakdef">
      <B:Interface><B:Parameter name="e"/>
      <B:Parameter name="g"/>
      </B:Interface>
      <B:Component type="pore">
        <B:Parameter name="gbar">
          <B:value>g</B:value>
        </B:Parameter>
        <B:AnalogPort mode='send' name="gbar"/>
      </B:Component>

      <B:Component type="permeating-ion" name="non-specific">
        <B:Parameter name="erev">
          <B:value>e</B:value>
        </B:Parameter>
        <B:AnalogPort mode='send' name="erev"/>
      </B:Component>

    </B:ComponentClass>

    <B:Component name="Na" definition="Nadef">
      <B:properties><B:Parameter name="A_alpha_m">
        <B:value>0.1</B:value>
      </B:Parameter>
      <B:Parameter name="B_alpha_m">
        <B:value>-40.0</B:value>
      </B:Parameter>
      <B:Parameter name="C_alpha_m">
        <B:value>10.0</B:value>
      </B:Parameter>
      <B:Parameter name="A_beta_m">
        <B:value>4.0</B:value>
      </B:Parameter>
      <B:Parameter name="B_beta_m">
        <B:value>-65.0</B:value>
      </B:Parameter>
      <B:Parameter name="C_beta_m">
        <B:value>18.0</B:value>
      </B:Parameter>
      <B:Parameter name="A_alpha_h">
        <B:value>0.07</B:value>
      </B:Parameter>
      <B:Parameter name="B_alpha_h">
        <B:value>-65.0</B:value>
      </B:Parameter>
      <B:Parameter name="C_alpha_h">
        <B:value>20.0</B:value>
      </B:Parameter>
      <B:Parameter name="A_beta_h">
        <B:value>1.0</B:value>
      </B:Parameter>
      <B:Parameter name="B_beta_h">
        <B:value>-35.0</B:value>
      </B:Parameter>
      <B:Parameter name="C_beta_h">
        <B:value>10.0</B:value>
      </B:Parameter>
      <B:Parameter name="e">
        <B:value>50.0</B:value>
      </B:Parameter>
      <B:Parameter name="g">
        <B:value>0.12</B:value>
      </B:Parameter>
    </B:properties></B:Component>

    <B:Component name="K" definition="Kdef">
      <B:properties><B:Parameter name="A_alpha_n">
        <B:value>0.01</B:value>
      </B:Parameter>
      <B:Parameter name="B_alpha_n">
        <B:value>-55.0</B:value>
      </B:Parameter>
      <B:Parameter name="C_alpha_n">
        <B:value>10.0</B:value>
      </B:Parameter>
      <B:Parameter name="A_beta_n">
        <B:value>0.125</B:value>
      </B:Parameter>
      <B:Parameter name="B_beta_n">
        <B:value>-65.0</B:value>
      </B:Parameter>
      <B:Parameter name="C_beta_n">
        <B:value>80.0</B:value>
      </B:Parameter>
      <B:Parameter name="e">
        <B:value>-77.0</B:value>
      </B:Parameter>
      <B:Parameter name="g">
        <B:value>0.036</B:value>
      </B:Parameter>
    </B:properties></B:Component>

    <B:Component name="Leak" definition="Leakdef">
      <B:properties><B:Parameter name="g">
        <B:value>0.0003</B:value>
      </B:Parameter>
      <B:Parameter name="e">
        <B:value>-54.4</B:value>
      </B:Parameter>
    </B:properties></B:Component>

  </B:Biophysics>
</NineML>
